1) إعداد البيئة (Initial configuration)
- جهّزت لاب: Kali (المهاجم) و Metasploitable2 (الهدف).
- تأكدت من إعداد الشبكة وأخذت snapshot قبل البدء.

2) اكتشاف الـ live host
- تحققت أن الـtarget حي (ping/arp) قبل بدء الفحص.

3) فحص سريع (Half scan) لاكتشاف البورتات
- نفّذت فحص سريع لاكتشاف البورتات المفتوحة لتحديد نطاق الفحص التفصيلي.

4) فحص الخدمات على المنافذ 139 و 445
- نفّذت فحص خدمات وإصدارات على 139/445 باستخدام Nmap وMetasploit module scan.
  - مثال: `nmap -sV -p139,445 <139.168.6.136>` وحفظت الناتج في nmap/smb_nmap_full.txt

5) Enumeration مفصّل لـ SMB
- استخدمت أدوات enumeration مثل `enum4linux`, `smbclient`, و`smbmap` لجمع الشيرز، المستخدمين، والصلاحيات.
  - حفظت المخرجات في evidence/smb_139_445/enum4linux.txt و smbmap.txt

6) البحث عن استغلال (Exploit lookup)
- استخدمت `searchsploit` وبحثت داخل Metasploit عن موديولات مناسبة للإصدار المكتشف.
  - مثال: بحثت عن `samba`/`smb` أو `usermap_script` كمرجع.

7) تنفيذ الاستغلال (Exploit)
- شغّلت الموديول المناسب في Metasploit (بعد أخذ snapshot لاحتمال التأثير) وحاولت الحصول على شيل.
  - إذا نجح الاستغلال: حصلت على session أو shell.

8) الوصول إلى root وPost-exploitation
- بعد الحصول على الشيل تأكدت من الصلاحيات (`whoami`, `id`) وحفظت النتائج في ملفات نصية.
- نفذت جمع معلومات post-exploit آمن (uname, ps, netstat, ls /root, ملفات passwd مقتطف).
- حفظت كل الأدلة (نصوص ولقطات شاشة) في evidence/smb_139_445/

9) التوثيق والأرشفة
- حدّثت timeline.txt بسطر يوضح تاريخ/وقت استغلال SMB والأدلة المرتبطة.
- جهّزت ملف PoC مختصر يصف التنفيذ والأدلة.
- عملت ZIP للأدلة النهائية استعدادًا للرفع على LMS أو حفظها محليًا.

ملاحظات أخلاقية:
- جميع التغييرات وُجدت خلال بيئة اختبارية (Lab). أي تغييرات دائمة مثل تغيير كلمات المرور أو تثبيت برامج لم تُجرَ إلا بعد أخذ snapshot وتوثيق كامل.
- لا تُحذف سجلات النظام، ولا تُجرى محاولات persistence بدون إذن صريح.
EOF
